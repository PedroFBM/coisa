<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Conversor de Moedas</title> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>
    <body>

        <input type="text" name="cep" id="cep">
        <button type="button" id="pesquisar">Enviar</button>
        <br/>Cep: <strong><span id="cep"></span></strong>
    
        <script>
            $("#pesquisar").on("click", function(){

                var loading = $("#loading");
                var cep = $("#cep").val().replace(/[^0-8]/g,''); 
                console.log(cep)

                        loading.show();
                        if(cep !== ""){
                            alert("aviso= não sei o que está acontecendo com o codigo, mas ele não funciona! dá um tal de err file not found")

                            $.ajax({
                                url: "viacep.com.br/ws/" + cep + "/json/?callback=data",
                                type: "GET",
                                crossDomain: true,
                                dataType: "jsonp",
                                success: function (data) { 

                                    if(data.erro !== undefined){
                                        alert("CEP inválido");
                                    }else{
                                        $("#cep").text(data.cep);
                                    }
                                },
                                complete: function(){ 
                                    loading.hide();
                            }       
                        });
                    }else{
                    alert("CAMPO NÃO PODE ESTAR VAZIO!!!");
                }
            });
        </script>
    </body>
</html>